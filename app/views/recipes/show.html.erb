<!-- Recipe Name -->
<h1><%= @recipe.name %></h1>

<!-- Recipe Owner Info -->
<% if @recipe.owner_id %>
  <h2>Created by <%= @recipe.owner %></h2>
<% else %>
  <h2>(this recipe has no owner)</h2>
<% end %>

<% if @recipe.owner_id == current_user.id %>
  <div>
    <%= link_to "Edit this recipe", edit_recipe_path(@recipe) %>
  </div>
  <div>
    <%= link_to "Delete this recipe", recipe_path(@recipe),
          method: :delete,
          data: { confirm: "Are you sure?" } %>
  </div>
<% end %>

<!-- Ingredients -->
<div id="ingredients-title">
  <%= render 'ingredients/title' %>
</div>

<div id="ingredients">
  <% if @ingredients.blank? %>
    This recipe does not have any ingredients
  <% else %>
    <% @ingredient.each do |ingredient| %>
      <div id=<%= "ingredient_#{ingredient.id}" %> class="flex">
        <%= render 'ingredients/show', ingredient: ingredient %>
      </div>
  <% end %>
</div>

<!-- New Ingredient -->


<!-- Steps -->
<div id="steps-title">
  <%= render 'steps/title' %>
</div>

<div id="steps">
  <% if @recipe.steps.blank? %>
    This recipe has no steps yet
  <% else %>
    <% @recipe.steps.each do |step| %>
      <div id=<%= "step_#{step.id}" %> class="flex">
        <%= render 'steps/show', step: step %>
      </div>
    <% end %>
  <% end %>
</div>

<!-- New step -->
<% if current_user.id == @recipe.owner_id %>
  <h3>Add a step</h3>
  <div class="new-step">
    <%= render 'steps/form', recipe: @recipe, step: @step %>
  </div>
<% end %>


<!-- Comments -->
<div id="comments-title">
  <%= render 'comments/title' %>
</div>

<div id="comments">
  <% if @recipe.comments.blank? %>
    Be the first to leave a comment for <%= @recipe.name %>
  <% else %>
    <% @recipe.comments.each do |comment| %>
      <div id=<%= "comment_#{comment.id}" %> class="flex">
        <%= render 'comments/show', comment: comment %>
      </div>
    <% end %>
  <% end %>
</div>

<!-- New Comment -->
<h3>Add a comment</h3>
<div class="new-comment">
  <%= render 'comments/form', recipe: @recipe, comment: @comment %>
</div>
