<h1><%= @recipe.name %></h1>
<% if @recipe.owner_id %>
  <h2>Created by <%= @recipe.owner %></h2>
<% else %>
  <h2>(this recipe has no owner)</h2>
<% end %>
<div>
  <%= link_to "Edit this recipe", edit_recipe_path(@recipe) %>
</div>
<div>
  <%= link_to "Delete this recipe", recipe_path(@recipe),
        method: :delete,
        data: { confirm: "Are you sure?" } %>
</div>

<h2>
  <%= pluralize @recipe.steps.size, "step" %>
</h2>

<div id="steps">
  <% if @recipe.steps.blank? %>
    This recipe has no steps yet
  <% else %>
    <% @recipe.steps.each do |step| %>
      <%= render 'steps/show', step: step %>
    <% end %>
  <% end %>
</div>

<h3>Add a step</h3>

<%= render 'steps/form', recipe: @recipe, step: @step %>

<h2>
  <%= pluralize @recipe.comments.size, "comment" %>
</h2>

<div id="comments">
  <% if @recipe.comments.blank? %>
    Be the first to leave a comment for <%= @recipe.name %>
  <% else %>
    <% @recipe.comments.each do |comment| %>
      <%= render 'comments/show', comment: comment %>
    <% end %>
  <% end %>
</div>

<h3>Add a comment</h3>

<%= render 'comments/form', recipe: @recipe, comment: @comment %>
